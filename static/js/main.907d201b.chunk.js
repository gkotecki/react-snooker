(this["webpackJsonpreact-snooker"]=this["webpackJsonpreact-snooker"]||[]).push([[0],{14:function(t,n,i){},17:function(t,n,i){"use strict";i.r(n);var e=i(3),o=i(2),a=i.n(o),r=i(7),s=i.n(r),c=(i(14),i(8)),l=i(0),u=i(1),f=i(5),v=i(4),h=function(){function t(n){Object(l.a)(this,t),this.x=void 0,this.y=void 0,this.vx=void 0,this.vy=void 0,this.isColliding=void 0,this.x=n[0],this.y=n[1],this.isColliding=!1}return Object(u.a)(t,[{key:"draw",value:function(t){console.warn("TODO: implement this method on inheritance")}},{key:"update",value:function(t){console.warn("TODO: implement this method on inheritance")}}]),t}(),y=function(t){Object(f.a)(i,t);var n=Object(v.a)(i);function i(t,e,o,a){var r;return Object(l.a)(this,i),(r=n.call(this,t)).vx=void 0,r.vy=void 0,r.color=void 0,r.outOfBounds=!1,r.showLogs=!1,r.radius=12,r.vx=e[0],r.vy=e[1],r.color=o,r.showLogs=a,r}return Object(u.a)(i,[{key:"update",value:function(t){this.showLogs&&console.log(this.vx,this.vy),this.vx=Math.abs(this.vx)<.5?0:this.vx-.5*this.vx*t,this.vy=Math.abs(this.vy)<.5?0:this.vy-.5*this.vy*t,this.x+=this.vx*t,this.y+=this.vy*t}},{key:"draw",value:function(t){t.fillStyle=this.isColliding?"#f00":this.color,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fill()}}]),i}(h),d=function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,null,[{key:"onBalls",value:function(t,n){var i=t.x,e=t.y,o=t.radius,a=n.x,r=n.y,s=n.radius;return(i-a)*(i-a)+(e-r)*(e-r)<=(o+s)*(o+s)}},{key:"onHole",value:function(t,n){var i=t.x,e=t.y,o=n.x,a=n.y,r=n.radius;return(i-o)*(i-o)+(e-a)*(e-a)<r*r}}]),t}(),x=function(t){Object(f.a)(i,t);var n=Object(v.a)(i);function i(){var t;Object(l.a)(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).radius=18,t}return Object(u.a)(i,[{key:"update",value:function(){}},{key:"draw",value:function(t){t.fillStyle="#000",t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fill()}}]),i}(h);var w=function(){var t=Object(o.useRef)(null),n=new y([280,550],[0,0],"#fff"),i=[new y([196,150],[0,0],"#22f"),new y([222,150],[0,0],"#22f"),new y([248,150],[0,0],"#22f"),new y([274,150],[0,0],"#22f"),new y([300,150],[0,0],"#22f"),new y([209,172],[0,0],"#22f"),new y([235,172],[0,0],"#22f"),new y([261,172],[0,0],"#22f"),new y([287,172],[0,0],"#22f"),new y([222,194],[0,0],"#22f"),new y([248,194],[0,0],"#22f"),new y([274,194],[0,0],"#22f"),new y([235,216],[0,0],"#22f"),new y([261,216],[0,0],"#22f"),new y([248,238],[0,0],"#22f")],a=[new x([55,55]),new x([445,55]),new x([50,350]),new x([450,350]),new x([55,645]),new x([445,645])];return Object(o.useEffect)((function(){var e=0,o=0;!function r(s){var l=t.current.getContext("2d");e=(s-o)/1e3,o=s;var u=Math.round(1/e);!function(t){Object(c.remove)(i,(function(t){return t.outOfBounds})),n.update(t),i.forEach((function(n){return n.update(t)}))}(e||0),function(){for(var t=[n].concat(i),e=function(n){var i=t[n];i.isColliding=!1,a.forEach((function(t){d.onHole(i,t)&&(i.outOfBounds=!0)}));var e=.8;i.x<50+i.radius?(i.isColliding=!0,i.vx=Math.abs(i.vx)*e):i.x>450-i.radius&&(i.isColliding=!0,i.vx=-Math.abs(i.vx)*e),i.y<50+i.radius?(i.isColliding=!0,i.vy=Math.abs(i.vy)*e):i.y>650-i.radius&&(i.isColliding=!0,i.vy=-Math.abs(i.vy)*e);for(var o=n+1;o<t.length;o++){var r=t[o];if(r.isColliding=!1,d.onBalls(i,r)){i.isColliding=!0,r.isColliding=!0;var s={x:r.x-i.x,y:r.y-i.y},c=Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)),l={x:s.x/c,y:s.y/c},u={x:i.vx-r.vx,y:i.vy-r.vy},f=u.x*l.x+u.y*l.y;if(f<0)break;i.vx-=f*l.x,i.vy-=f*l.y,r.vx+=f*l.x,r.vy+=f*l.y}}},o=0;o<t.length;o++)e(o)}(),function(t,e){t.clearRect(0,0,500,700),t.font="14px monospace",t.fillStyle="#000",t.fillText("FPS: "+e,0,11),t.fillStyle="#420",t.fillRect(25,25,450,650),t.fillStyle="#090",t.fillRect(50,50,400,600),a.forEach((function(n){return n.draw(t)})),n.draw(t),i.forEach((function(n){return n.draw(t)}))}(l,u),requestAnimationFrame(r)}(console.timeStamp)})),Object(e.jsx)("canvas",{ref:t,onClick:function(i){var e=t.current;n.vx=3*(i.clientX-e.offsetLeft-n.x),n.vy=3*(i.clientY-e.offsetTop-n.y)},width:"500",height:"700"})},b=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,18)).then((function(n){var i=n.getCLS,e=n.getFID,o=n.getFCP,a=n.getLCP,r=n.getTTFB;i(t),e(t),o(t),a(t),r(t)}))};s.a.render(Object(e.jsx)(a.a.StrictMode,{children:Object(e.jsx)(w,{})}),document.getElementById("root")),b()}},[[17,1,2]]]);
//# sourceMappingURL=main.907d201b.chunk.js.map